<!doctype html>
<html>
<head>

    <meta charset="utf-8">

    <link rel="stylesheet" href="css/jsoneditor.css" />
    <link rel="stylesheet" href="css/contextmenu.css" />
    <link rel="stylesheet" href="css/menu.css" />
    <link rel="stylesheet" href="css/searchbox.css" />

    <style type="text/css">
        #jsoneditor {
            width: 500px;
            height: 500px;
        }
    </style>

    <!-- ace code editor -->
    <script type="text/javascript" src="../lib/ace/ace.js"></script>
    <script type="text/javascript" src="../lib/ace/mode-json.js"></script>
    <script type="text/javascript" src="../lib/ace/theme-textmate.js"></script>
    <script type="text/javascript" src="../lib/ace/theme-jsoneditor.js"></script>

    <!-- json/spaceapi tree editor -->
    <script src="js/jsoneditor.js"></script>
    <script src="js/node.js"></script>
    <script src="js/appendnode.js"></script>
    <script src="js/contextmenu.js"></script>
    <script src="js/history.js"></script>
    <script src="js/modebox.js"></script>
    <script src="js/searchbox.js"></script>
    <script src="js/highlighter.js"></script>
    <script src="js/header.js"></script>
    <script src="js/util.js"></script>
    <script src="js/module.js"></script>
    <script src="js/treeeditor.js"></script>
    <script src="js/spaceapieditor.js"></script>
    <script src="js/texteditor.js"></script>

    <script src="schema.js"></script>
    <script src="json.js"></script>
</head>
<body>

    <p>
        <button id="setJSON">Set JSON</button>
        <button id="getJSON">Get JSON</button>
    </p>

    <div id="jsoneditor"></div>

    <script type="text/javascript" >

        // create the editor
        var container = document.getElementById('jsoneditor');
        var editor = new jsoneditor.JSONEditor(
            container,
            {
                mode: "tree",
                schemas: {
                    "SpaceAPI JSON": schema
                },
                name: "SpaceAPI JSON",
                modes: [ // allowed modes
                    'code',
                    'tree'
                ]
            },
            json
        );

        // set json
        document.getElementById('setJSON').onclick = function () {
            var json = {
                'array': [1, 2, 3],
                'boolean': true,
                'null': null,
                'number': 123,
                'object': {'a': 'b', 'c': 'd'},
                'string': 'Hello World'
            };
            editor.set(json);
        };

        // get json
        document.getElementById('getJSON').onclick = function () {
            var json = editor.get();
            alert(JSON.stringify(json, null, 2));
        };
    </script>

</body>
</html>
